(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},s={app:0},i=[];function r(t){return c.p+"static/js/"+({}[t]||t)+"."+{"chunk-3b864e58":"9273fded","chunk-712f2df5":"6327d23a"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-3b864e58":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var o="static/css/"+({}[t]||t)+"."+{"chunk-3b864e58":"5a253d76","chunk-712f2df5":"31d6cfe0"}[t]+".css",s=c.p+o,i=document.getElementsByTagName("link"),r=0;r<i.length;r++){var l=i[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===s))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var o=s[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=s[t]=[e,n]}));e.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=s[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}s[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"27fc":function(t,e,n){"use strict";n("eb54")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("xysLayout")],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xysLayout"},[n("xysLayoutLeft",{ref:"xysLayoutLeft"}),n("div",{staticClass:"xysLayout-right"},[n("div",{staticClass:"xysLayout-header"},[n("div",{staticClass:"header-left"},[t.isCollapse?n("i",{staticClass:"el-icon-s-unfold",on:{click:function(e){t.isCollapse=!1}}}):n("i",{staticClass:"el-icon-s-fold",on:{click:function(e){t.isCollapse=!0}}}),n("el-menu",{staticClass:"el-menu-demo",staticStyle:{border:"none"},attrs:{mode:"horizontal"}},[n("el-menu-item",{attrs:{index:"1"}},[t._v("处理中心")]),n("el-menu-item",{attrs:{index:"2"}},[t._v("消息中心")]),n("el-menu-item",{attrs:{index:"3"}},[t._v("消息中心")]),n("el-menu-item",{attrs:{index:"4"}},[t._v("消息中心")]),n("el-menu-item",{attrs:{index:"5"}},[t._v("消息中心")]),n("el-menu-item",{attrs:{index:"6"}},[t._v("消息中心")])],1)],1),n("div",{staticClass:"header-right"},[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[t._v(" 简体中文"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("简体中文")]),n("el-dropdown-item",[t._v("English")])],1)],1),n("el-dropdown",{staticStyle:{margin:"0 20px"}},[n("span",{staticClass:"el-dropdown-link"},[t._v(" 张三"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("个人中心")]),n("el-dropdown-item",[t._v("推出登录")])],1)],1)],1)]),n("div",{staticClass:"xysLayout-tabsView"},[n("xysTabs")],1),n("div",{staticClass:"xysLayout-body"},[n("router-view")],1),n("div",{staticClass:"xysLayout-footer"})])],1)},r=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xysLayout-left",class:[t.isCollapse?"isSmall":""]},[t.isCollapse?n("div",{staticClass:"xysLayout-left-logo"},[t._v("Xys")]):n("div",{staticClass:"xysLayout-left-logo"},[t._v("xysLayout")]),n("div",{staticClass:"xysMenu"},[n("el-menu",{attrs:{"default-active":"/test",router:"","background-color":"#293c55","text-color":"#ffffff",collapse:t.isCollapse}},[n("el-menu-item",{attrs:{index:"/"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("aaa")])]),t._l(100,(function(e){return n("el-menu-item",{key:e,attrs:{index:"/about"+e}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e))])])})),n("el-menu-item",{attrs:{index:"/ccc"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("ccc")])])],2)],1)])},l=[],u={data:function(){return{isCollapse:!1}},methods:{setCollapse:function(t){this.isCollapse=t}}},d=u,f=(n("27fc"),n("2877")),p=Object(f["a"])(d,c,l,!1,null,"d8e83d42",null),h=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-tabs",{attrs:{closable:"",type:"card"},on:{"tab-remove":t.removeTab,"tab-click":t.tabClick},nativeOn:{contextmenu:function(e){return e.preventDefault(),t.openContextMenu(e)}},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.tabList,(function(t){return n("el-tab-pane",{key:t.name,staticClass:"isActive",attrs:{label:t.name,name:t.path}})})),1),n("ul",{directives:[{name:"show",rawName:"v-show",value:t.contextMenu.isShow,expression:"contextMenu.isShow"}],staticClass:"el-dropdown-menu el-popper",style:{left:t.contextMenu.menuLeft+"px",top:"100px"},attrs:{"x-placement":"bottom-end"}},[n("li",{staticClass:"el-dropdown-menu__item",on:{click:t.closeRightTag}},[t._v("关闭右侧")]),n("li",{staticClass:"el-dropdown-menu__item",on:{click:t.closeLeftTag}},[t._v("关闭左侧")]),n("li",{staticClass:"el-dropdown-menu__item",on:{click:t.closeOtherTag}},[t._v("关闭其它")]),this.active==this.contextMenu.name?n("li",{staticClass:"el-dropdown-menu__item",on:{click:t.refresh}},[t._v(" 刷新页面 ")]):t._e(),n("div",{staticClass:"popper__arrow",staticStyle:{left:"44px"},attrs:{"x-arrow":""}})])],1)},v=[],b=(n("c740"),n("b0c0"),n("d3b7"),n("159b"),n("4de4"),n("a434"),{data:function(){return{active:"",tabList:[],contextMenu:{name:"",menuLeft:0,isShow:!1,label:""}}},watch:{$route:function(){this.whenRouteChange()}},created:function(){},mounted:function(){var t=this;document.addEventListener("click",(function(e){t.contextMenu.isShow=!1}))},methods:{whenRouteChange:function(){var t=this.$route,e=this.tabList.findIndex((function(e){return e.path==t.path}));-1===e&&this.tabList.push({name:t.name,path:t.path}),this.active=t.path},tabClick:function(t){console.log(t),this.$router.push(t.name),this.active=t.name},removeTab:function(t){var e=this.tabList;if(e.length<=1)this.$message.warning("这是最后一页, 不能在关闭了");else{var n=this.active;n===t&&e.forEach((function(o,a){if(o.path===t){var s=e[a+1]||e[a-1];s&&(n=s.path)}})),this.active=n,this.$router.push(n),this.tabList=e.filter((function(e){return e.path!==t}))}},openContextMenu:function(t){console.log(t),t.srcElement.id&&(this.contextMenu.name=t.srcElement.id.substr(4),this.contextMenu.menuLeft=t.clientX-45,this.contextMenu.isShow=!0,this.contextMenu.label=t.srcElement.innerText)},refresh:function(){this.$router.go(0)},closeRightTag:function(){var t=this.contextMenu.name,e=this.tabList.findIndex((function(e){return e.path==t}));this.tabList.splice(e+1,this.tabList.length-e),this.active=t,this.$router.push(t)},closeLeftTag:function(){var t=this.contextMenu.name,e=this.tabList.findIndex((function(e){return e.path==t}));this.tabList.splice(0,e),this.active=t,this.$router.push(t)},closeOtherTag:function(){var t=this.contextMenu.name,e=this.contextMenu.label;this.tabList=[{name:e,path:t}],this.active=t,this.$router.push(t)}}}),y=b,x=Object(f["a"])(y,m,v,!1,null,"0349a43e",null),w=x.exports,g={components:{xysLayoutLeft:h,xysTabs:w},data:function(){return{isCollapse:!1}},watch:{isCollapse:function(){this.$refs.xysLayoutLeft.setCollapse(this.isCollapse)}}},C=g,_=(n("7961"),Object(f["a"])(C,i,r,!1,null,"645e86cc",null)),L=_.exports,k={components:{xysLayout:L}},M=k,O=(n("5c0b"),Object(f["a"])(M,a,s,!1,null,null,null)),E=O.exports,T=n("5530"),S=(n("3ca3"),n("ddb0"),n("caad"),n("8c4f")),j=function(){return!0},$=function(){return window.isInitMenu};o["default"].use(S["a"]);var P=[{path:"/",name:"Home",component:function(){return n.e("chunk-712f2df5").then(n.bind(null,"bb51"))}},{path:"/about",name:"About",component:function(){return n.e("chunk-3b864e58").then(n.bind(null,"f820"))}}],A=new S["a"]({routes:P}),I=S["a"].prototype.push;S["a"].prototype.push=function(t){return I.call(this,t).catch((function(t){return t}))},A.beforeEach((function(t,e,o){if(j())if($())o();else{var a=new Promise((function(t,e){setTimeout((function(){t("aaa")}),1e3)}));a.then((function(e){console.log("res",e),window.isInitMenu=1;for(var a=1;a<=50;a++)A.addRoute({path:"/about"+a,name:"About"+a,component:function(){return n.e("chunk-3b864e58").then(n.bind(null,"f820"))}});o(Object(T["a"])(Object(T["a"])({},t),{},{replace:!0}))})).catch((function(t){console.log("err",t)})).finally((function(){console.log("finally")}))}else[].includes(t.name)?o():o({path:"/login",query:"/"===t.path?{}:{redirect:t.path}})}));var N=A,R=n("2f62");o["default"].use(R["a"]);var q=new R["a"].Store({state:{},mutations:{},actions:{},modules:{}}),B=n("5c96"),D=n.n(B);n("0fae");o["default"].use(D.a),o["default"].config.productionTip=!1,new o["default"]({router:N,store:q,render:function(t){return t(E)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},7961:function(t,e,n){"use strict";n("f0dc")},"9c0c":function(t,e,n){},eb54:function(t,e,n){},f0dc:function(t,e,n){}});
//# sourceMappingURL=app.eebccc3e.js.map